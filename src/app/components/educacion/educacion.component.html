<div class="row">
    <div class="titulo">
        <h1>Educación</h1>
        <div *ngIf="isloged()">
            <button type="button" class="agregar btn btn-success" data-bs-toggle="modal" data-bs-target="#addEducationModal"(click)="onOpenModal('add')">Agregar Educación<span class="sr-only"></span></button>
        </div>
        
    </div>
    <div class="col-lg-11" *ngFor="let education of educations">
        <ul>
            <div class="contenedor">
                <h3>{{education.tituloEdu}}</h3>
                <div class="botones" *ngIf="isloged()">
                    <button type="button" class="chicos btn btn-success"data-bs-toggle="modal" data-bs-target="#editEducationModal"
                    (click)="onOpenModal('edit', education)"><i class="bi bi-pencil-square"></i></button>
                    <button type="button" class="chicos btn btn-success"data-bs-toggle="modal" data-bs-target="#deleteEducationModal"
                    (click)="onOpenModal('delete', education)"><i class="bi bi-trash3"></i></button>
                </div>
            </div>
            <p>{{education.descEdu}}</p>
        </ul>
    </div>
</div>

<!-- Modal Agregar Educacion -->

<div class="modal fade" id="addEducationModal" tabindex="-1" aria-labelledby="addEducationModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" id="MyModal">
                <h5 class="modal-title" id="addEducationModalLabel">Agregar Educación</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="MyModal">
                <form #addForm="ngForm" (ngSubmit)="onAddEducation(addForm)">
                    <div class="mb-3">
                        <label for="tituloEdu" class="col-form-label">Institución:</label>
                        <input type="text" name="tituloEdu" ngModel class="form-control" id="tituloEdu"
                            placeholder="Coderhouse" required />
                    </div>
                    <div class="mb-3">
                        <label for="descEdu" class="col-form-label">Descripción:</label>
                        <textarea type="text" name="descEdu" ngModel class="form-control" id="descEdu"
                            placeholder="Curso de Javascript" required></textarea>
                    </div>
                    <div class="modal-footer" id="MyModal">
                        <button type="button" id="add-education-form" class="btn-modal btn btn-outline-success"
                            data-bs-dismiss="modal">Cerrar</button>
                        <button [disabled]="addForm.invalid" type="submit" class="btn-modal btn btn-outline-success">Agregar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal Editar Educacion -->

<div class="modal fade" id="editEducationModal" tabindex="-1" aria-labelledby="editEducationModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" id="MyModal">
                <h5 class="modal-title" id="editEducationModalLabel">Editar Educación</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="MyModal">
                <form #editForm="ngForm">
                    <div class="mb-3">
                        <label for="name" class="col-form-label">Institución:</label>
                        <input type="text" name="tituloEdu" ngModel="{{editEducation?.tituloEdu}}" class="form-control"
                            id="tituloEdu1" data-bs-whatever="@getbootstrap" placeholder="" />
                    </div>
                    <input type="hidden" ngModel="{{ editEducation?.idEdu }}" name="idEdu" class="form-control"
                        id="idEdu1" placeholder="" />

                    <div class="mb-3">
                        <label for="descEdu" class="col-form-label">Descripción:</label>
                        <textarea type="text" name="descEdu" ngModel="{{ editEducation?.descEdu}}" class="form-control"
                            id="descEdu1" placeholder=""></textarea>
                    </div>
                    <div class="modal-footer" id="MyModal">
                        <button type="button" id="1" class="btn-modal btn btn-outline-success" data-bs-dismiss="modal">Cerrar</button>

                        <button (click)="onUpdateEducation(editForm.value)" data-bs-dismiss="modal"
                            class="btn-modal btn btn-outline-success">Guardar cambios</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Modal Borrar Educacion -->

<div class="modal fade" id="deleteEducationModal" tabindex="-1" aria-labelledby="deleteEducationModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" id="MyModal">
                <h5 class="modal-title" id="deleteEducationModal">Borrar Educación</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="MyModal">
                <p style="color: #c1e2b8">
                    Estás seguro que quieres Eliminar
                    {{ deleteEducation?.tituloEdu }}?
                </p>
                <div class="modal-footer">
                    <button type="button" id="1" class="btn-modal btn btn-outline-success" data-bs-dismiss="modal">No Eliminar</button>

                    <button (click)="onDeleteEducation(deleteEducation!.idEdu)" data-bs-dismiss="modal"
                        class="btn-modal btn btn-outline-danger">Eliminar</button>
                </div>
            </div>
        </div>
    </div>
</div>
